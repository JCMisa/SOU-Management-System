@model CommitmentForm;

@{
    ViewData["Title"] = "Commitment Form Result";
}





@* cdn libraries to generate pdf *@

@* adding jquery *@
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

@* adding jsPDF *@
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.3.4/jspdf.min.js"></script>

@* adding html2canvas *@
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"
        integrity="sha512-BNaRQnYJYiPSqHHDb58B0yaPfCu+Wgds8Gp/gU33kqBtgNS4tSPHuGibyoeqMV/TJ1SKda6FXzoEyYGjTe+vXA=="
        crossorigin="anonymous"
        referrerpolicy="no-referrer"></script>






<button id="btn-one" class="btn btn-success btn-lg">Download PDF</button>

<a class="btn btn-primary btn-lg" asp-controller="CommitmentForm" asp-action="Upsert">Create New</a>
<a class="btn btn-primary btn-lg" asp-controller="CommitmentForm" asp-action="Upsert" asp-route-id="@Model.CommitmentId">Update</a>
<a class="btn btn-danger btn-lg" asp-area="User" asp-controller="CommitmentForm" asp-action="Delete" asp-route-id="@Model.CommitmentId">Delete</a>

<div class="commitment-body" id="cfBody">

    <div class="commitment-header">
        <ul>
            <li> <img class="logo" src="~/images/lspu-logo.jpg" alt="LSPU Logo" width="100px" height="100px"> </li>
            <li>
                <img class="logo" src="~/images/Bagong_Pilipinas_logo.png" alt="BAGON PILIPINAS Logo" width="100px"
                     height="100px">
            </li>
        </ul>

        <p>Republic of the Philippines</p>
        <h3>Laguna State Polytechnic University</h3>
        <p>Province of Laguna</p>
    </div>

    <div class="commitment-title">
        <h2><strong>Office of Student Affairs and Services</strong></h2>
        <p><strong>COMMITMENT FORM</strong></p>
    </div>

    <div class="commitment-hero">
        <div class="commitment-side-title">
            <p>
                <strong>THE DIRECTOR/CHAIRPERSON</strong>
            </p>
            <p>
                <strong>OFFICE OF STUDENT AFFAIRS AND SERVICES</strong>
            </p>
            <p>
                <strong>LSPU</strong>
            </p>
        </div>

        <div style="margin-bottom: 10px; text-indent: 5rem;">
            <p><strong>Thru: The Coordinator, Student Organization Unit</strong></p>
        </div>

        <div class="commitment-content">
            <p>Sir,</p>
            <p style="text-indent:5rem">
                This letter is in connection with the application for recognition of <span class="commitment-input">
                    @Model.OrganizationName
                </span>
                as a LSPU Student Organization. I, the undersigned, have committed to serve as the organizations Faculty
                Adviser for the academic year <span class="commitment-input"> 2024 </span> - <span class="commitment-input"> 2025 </span>,
                and will therefore assume full responsibility as provided in the guidelines for the recognition of
                student
                organizations.
            </p>
            @* <p>
                as a LSPU Student Organization. I, the undersigned, have committed to serve as the organizations Faculty
                Adviser for the academic year <span class="commitment-input"> 2024 </span> - <span class="commitment-input"> 2025 </span>,
                and will therefore assume full responsibility as provided in the guidelines for the recognition of
                student
                organizations.
            </p> *@
            <p style="text-indent:5rem">
                Furthermore, I certify to the correctness and completeness of the documents attached to the organization
                application for
                recognition.
            </p>
        </div>
    </div>

    <div class="commitment-signature-section">
        <p><strong>Very respectfully yours,</strong></p>
        <br>
        <div class="commitment-author-info">
            <p>Name: &nbsp; <span class="commitment-input"> @Model.AdvicerName </span></p>
            <p>Signature: &nbsp; <span class="commitment-input"> _______________ </span></p>
            <p>College: &nbsp; <span class="commitment-input"> @Model.College.CollegeName </span></p>
            <p>Academic Rank: &nbsp; <span class="commitment-input"> @Model.AcademicRank.RankName </span></p>
            <p>Home Address: &nbsp; <span class="commitment-input"> @Model.HomeAddress </span></p>
            <br>
            <p>Contact Number(s): &nbsp; <span class="commitment-input"> @Model.ContactNo </span></p>
            <p>Date: &nbsp; <span class="commitment-input"> _______________ </span></p>
        </div>
    </div>

    <div class="commitment-last-section">
        <p>Noted:</p>
        <p style="text-indent: 5rem;">________________________</p>
        <p style="text-indent: 5rem;">Dean.Assoc. Dean of College</p>
        <br>
        <br>
        <div class="commitment-approval">
            <p>Recommending Approval:</p>
            <br>
            <p style="text-decoration: underline;"><strong>AL JOHN A. VILLAREAL</strong></p>
            <p>Coordinator, Student Organization Unit</p>
            <br>
            <p>Approved / Disapproved:</p>
            <br>
            <p style="text-decoration: underline;"><strong>DR. ALBERTO B. CASTILLO</strong></p>
            <p>Chairperson, Office of Student Affairs and Services</p>
        </div>
    </div>

    <div class="commitment-footer">
        <ul>
            <li>LSPU-OSAS-SF-003</li>
            <li>Rev.1</li>
            <li>09 November 2020</li>
        </ul>
    </div>

</div>



@* getting the specific section in the html through id and convert it to pdf *@
@section scripts {
    <script>
        jQuery(document).ready(function () {
            $('#btn-one').click(function () {
                html2canvas(document.querySelector('#cfBody')).then((canvas) => {
                    let base64image = canvas.toDataURL('image/png');

                    let pdf = new jsPDF('p', 'px', [1350, 1131]); //(initial: 1600 x 1131)
                    pdf.addImage(base64image, 'PNG', 15, 35, 1110, 1290); //left margin, top margin, width, height (a4 is 595 x 842) (initial width and height is 1110 x 1290)
                    pdf.save('SampleHtmlToPdf.pdf'); //file name
                });
            });
        });
    </script>
}